<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="?|9Ei}^JPd)J_5WdLGrd">ADCaddress</variable><variable id="8pgPj)/r?naD{.WFi9^N">CONFIG</variable><variable id="?l_REOfR0@v0NB-`YGLj">configValue</variable><variable id="ITytij0e%yW3LG9=2-lw">CONVERSION</variable><variable id="b2o,7%xIW+vYIN;xUam:">PGA</variable><variable id="E_geb^{0Tz_;8geSIzS=">MODE</variable><variable id="Z^y.J5}]F(oM^#PoW0Z+">busy</variable><variable id="~o`-F+!#j0seSw([,`[Z">OS</variable><variable id="MAm97wgrEWh1E`0|Uc^x">MUX</variable><variable id="[K!7M(:L.wUvSb%5[N(K">DIS</variable><variable id="B7Hr(g:_KW~X.pPZ:C7a">result</variable></variables><block type="pxt-on-start" id="3yU@A~#yB,e[F`8Z@v!W" x="0" y="0"><statement name="HANDLER"><block type="variables_set" id="jhOa[5q:8DGj3%W43QtL"><field name="VAR" id="ITytij0e%yW3LG9=2-lw">CONVERSION</field><value name="VALUE"><shadow type="math_number" id="(:]uZVIC)@2hX?AA5G[4"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="R#]O+C!o0`H`?a+*/38?"><field name="VAR" id="?|9Ei}^JPd)J_5WdLGrd">ADCaddress</field><comment pinned="false" h="80" w="160">slave address</comment><value name="VALUE"><shadow type="math_number" id="vca-(:6Xb`tD2|Gkn7R+"><field name="NUM">144</field></shadow></value><next><block type="variables_set" id="a*m1o^_#K4@F.B6PA9#:"><field name="VAR" id="8pgPj)/r?naD{.WFi9^N">CONFIG</field><comment pinned="false" h="80" w="160">Register 0
Register 1</comment><value name="VALUE"><shadow type="math_number" id=".cd|Jp?7~EE@ZDV!-T+1"><field name="NUM">1</field></shadow></value><next><block type="variables_set" id="+s^CV!.V;XiHP$)]Ak2~"><field name="VAR" id="~o`-F+!#j0seSw([,`[Z">OS</field><comment pinned="false" h="80" w="160">Bit field OS set to 1 starts conversion</comment><value name="VALUE"><shadow type="math_number" id="R{g;,jj}q0O,5;G%DQWM"><field name="NUM">1</field></shadow></value><next><block type="variables_set" id="#h}2id%.:;j[U=Bh+TIB"><field name="VAR" id="MAm97wgrEWh1E`0|Uc^x">MUX</field><comment pinned="false" h="80" w="160">Bit field MUX sets the ADC input channel: 100 = AIN0 single-ended</comment><value name="VALUE"><shadow type="math_number" id=",;/NIbuL)AV#GD`SeDB)"><field name="NUM">4</field></shadow></value><next><block type="variables_set" id="W5Jzal#NC,.)rfsXqi0u"><field name="VAR" id="b2o,7%xIW+vYIN;xUam:">PGA</field><comment pinned="false" h="80" w="160">Bit field: Gain = +/- 2.048V</comment><value name="VALUE"><shadow type="math_number" id="?a`tJiFfxl47L@h~x{i!"><field name="NUM">2</field></shadow></value><next><block type="variables_set" id="Ej4b`T3SZSG{ej1t7{LY"><field name="VAR" id="E_geb^{0Tz_;8geSIzS=">MODE</field><comment pinned="false" h="80" w="160">Bit field: Mode = single shot</comment><value name="VALUE"><shadow type="math_number" id="yo#lF9..IJ63L.#Pp5Zx"><field name="NUM">1</field></shadow></value><next><block type="variables_set" id="`ewsutC14yvKK{NNu+ke"><field name="VAR" id="[K!7M(:L.wUvSb%5[N(K">DIS</field><comment pinned="false" h="80" w="160">Bit field DIS = 3 disables comparator</comment><value name="VALUE"><shadow type="math_number" id="bX]R:nD.TY%[zW/r8Uow"><field name="NUM">3</field></shadow></value><next><block type="variables_set" id="p*c~^p}eTcZdfaFP~h|,"><field name="VAR" id="?l_REOfR0@v0NB-`YGLj">configValue</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="bitwise_2arg" id="aP4^)cj*y/`8z.HZ1M{q"><field name="fn">operator.leftShift</field><value name="a"><shadow type="math_number" disabled="true"><field name="NUM">0</field></shadow><block type="variables_get" id="TKg]81P^^?Nf|P~+sK;0"><field name="VAR" id="~o`-F+!#j0seSw([,`[Z">OS</field></block></value><value name="b"><shadow type="math_number" id=".`[qyo3kbgP}W{%)6((a"><field name="NUM">15</field></shadow></value></block></value><next><block type="variables_set" id="IpQZ]S_7W5A2w=35w8!2"><field name="VAR" id="?l_REOfR0@v0NB-`YGLj">configValue</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="bitwise_2arg" id="+15!Z9{t@{yOi=EGZU{/"><field name="fn">operator.or</field><value name="a"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="D3m;4jXoJAlo!BUrp+?y"><field name="VAR" id="?l_REOfR0@v0NB-`YGLj">configValue</field></block></value><value name="b"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="bitwise_2arg" id="=_Iu#0V;F9$Q-3$aiI}^"><field name="fn">operator.leftShift</field><value name="a"><shadow type="math_number" disabled="true"><field name="NUM">0</field></shadow><block type="variables_get" id=".`c898HqFlgoNg^YZ/Si"><field name="VAR" id="MAm97wgrEWh1E`0|Uc^x">MUX</field></block></value><value name="b"><shadow type="math_number" id="#byH`R;L]@n/*]|(.%KJ"><field name="NUM">12</field></shadow></value></block></value></block></value><next><block type="variables_set" id="P!o:(g36/o,d-.SnnYRj"><field name="VAR" id="?l_REOfR0@v0NB-`YGLj">configValue</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="bitwise_2arg" id="}+jH{n0$S3y^95ocrnt-"><field name="fn">operator.or</field><value name="a"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="0v~IsGY=85d451Ss~J-u"><field name="VAR" id="?l_REOfR0@v0NB-`YGLj">configValue</field></block></value><value name="b"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="bitwise_2arg" id="yYbnE0c9D_;HRaF(C?uH"><field name="fn">operator.leftShift</field><value name="a"><shadow type="math_number" disabled="true"><field name="NUM">0</field></shadow><block type="variables_get" id="uNeor8I~~+tz;NNs6K94"><field name="VAR" id="b2o,7%xIW+vYIN;xUam:">PGA</field></block></value><value name="b"><shadow type="math_number" id="eqsx~zwW^A4H6)jj8}z1"><field name="NUM">9</field></shadow></value></block></value></block></value><next><block type="variables_set" id=".9b:cu+F{+I5E%`1qO]Z"><field name="VAR" id="?l_REOfR0@v0NB-`YGLj">configValue</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="bitwise_2arg" id="TrC{_Plxqq]=/ZB,0RO)"><field name="fn">operator.or</field><value name="a"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="V^U%e3=^n5Ve4`QJ|jPf"><field name="VAR" id="?l_REOfR0@v0NB-`YGLj">configValue</field></block></value><value name="b"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="bitwise_2arg" id="RKcHO0.3?KRci%_^vsii"><field name="fn">operator.leftShift</field><value name="a"><shadow type="math_number" disabled="true"><field name="NUM">0</field></shadow><block type="variables_get" id="@p~_=e*.tM=b9:B?RY_D"><field name="VAR" id="E_geb^{0Tz_;8geSIzS=">MODE</field></block></value><value name="b"><shadow type="math_number" id="*(?cP8VPDZG7kW7P?Hrv"><field name="NUM">8</field></shadow></value></block></value></block></value><next><block type="variables_set" id="sfLFds{yPXF6?nM82D2+"><field name="VAR" id="?l_REOfR0@v0NB-`YGLj">configValue</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="bitwise_2arg" id="ej92sU~KlF7O=ayTC%x-"><field name="fn">operator.or</field><value name="a"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="CZk;cb@XROuN{Qj0l7C,"><field name="VAR" id="?l_REOfR0@v0NB-`YGLj">configValue</field></block></value><value name="b"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="bitwise_2arg" id="OhUG[O):66Bx@e.1R}r["><field name="fn">operator.leftShift</field><value name="a"><shadow type="math_number" disabled="true"><field name="NUM">0</field></shadow><block type="variables_get" id="s2_$|%z_u84wnfn^IjeH"><field name="VAR" id="[K!7M(:L.wUvSb%5[N(K">DIS</field></block></value><value name="b"><shadow type="math_number" id="YOS=8[DQ7:6j)j@=K*=."><field name="NUM">0</field></shadow></value></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="every_interval" id=".)w#|E,3LnDKfEnW/4OR" x="850" y="9"><value name="interval"><shadow type="longTimePicker" id="z*o=YiQ!gZ9,9U|T;mH$"><field name="ms">1000</field></shadow></value><statement name="HANDLER"><block type="function_call" id="Az}cy08?,P7D[|,YR{Vi"><mutation name="startConversion" functionid="nVP3KYqs(=9L-YB:R_WU"><arg name="num" id="w7h6tuo0342c8plkgijj" type="number"></arg></mutation><comment pinned="false" h="80" w="160">Start ADC conversion (OS =&gt; 1)</comment><value name="w7h6tuo0342c8plkgijj"><shadow type="math_number" id="fe_TQ`kKMlGnXA/uw}EB"><field name="NUM">1</field></shadow><block type="variables_get" id="jySvM$J:{a-bUDXjIp;a"><field name="VAR" id="?l_REOfR0@v0NB-`YGLj">configValue</field></block></value><next><block type="variables_set" id="d#7Ege!J@lb1@!+8,?[l"><field name="VAR" id="Z^y.J5}]F(oM^#PoW0Z+">busy</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean" id="c?*~E1iX]JIbJ_XF)}=e"><field name="BOOL">TRUE</field></block></value><next><block type="device_while" id="5Ewl9JteDKh,{.dIJo^2"><comment pinned="false" h="80" w="160">Read status until conversion done</comment><value name="COND"><shadow type="logic_boolean"><field name="BOOL">FALSE</field></shadow><block type="variables_get" id="()J$^96ir6kabdx[}]wE"><field name="VAR" id="Z^y.J5}]F(oM^#PoW0Z+">busy</field></block></value><statement name="DO"><block type="variables_set" id="Yg?*52{+J5nh=]-.QC,n"><field name="VAR" id="Z^y.J5}]F(oM^#PoW0Z+">busy</field><value name="VALUE"><shadow type="math_number" id="Yi=pH1wTOqAy^_]Up?]d"><field name="NUM">0</field></shadow><block type="logic_compare" id="S}sB-aMdD5Sk_6xA9[/`"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="g{Z5j|Wza4lKsrMSI@{V"><field name="NUM">0</field></shadow><block type="bitwise_2arg" id="KhESn;hgWz9Ra8Onl+K7"><field name="fn">operator.rightShift</field><value name="a"><shadow type="math_number" id="?$T{*.t]DynlX:xZVt[;" disabled="true"><field name="NUM">0</field></shadow><block type="function_call_output" id="l^x{-rlz53?|sJR]B8j_"><mutation name="readCONVERSION" functionid="q_PcS(9S}ZcMc|C:U]y$"></mutation></block></value><value name="b"><shadow type="math_number" id="CY;gS|cMt3VZ~tU7)l=_"><field name="NUM">15</field></shadow></value></block></value><value name="B"><shadow type="math_number" id=",p*|8Qrci1g^JlAiMSW^"><field name="NUM">1</field></shadow></value></block></value></block></statement><next><block type="function_call" id="5%g3{d{CueRtW6ji7q~l"><mutation name="setPointer" functionid="bAq{7/9Bvj7fuFU07M6["><arg name="num" id="vdt30witdymmnwworr8wf" type="number"></arg></mutation><comment pinned="false" h="80" w="160">Set pointer to read result</comment><value name="vdt30witdymmnwworr8wf"><shadow type="math_number" id="EE!DbdD(o5T1Hdhu@z|g"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="(]EYXug~%$|[Hh({3;l^"><field name="VAR" id="B7Hr(g:_KW~X.pPZ:C7a">result</field><value name="VALUE"><shadow type="math_number" id="/4:d,Shk-w3l#dcLaFbv"><field name="NUM">0</field></shadow><block type="function_call_output" id="Ve_1.6B3oDx9#e*,Pxq#"><mutation name="readCONVERSION" functionid="q_PcS(9S}ZcMc|C:U]y$"></mutation></block></value></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="}Um-LrhCA1aV`$tg%b)?" x="1786" y="5"><mutation name="startConversion" functionid="nVP3KYqs(=9L-YB:R_WU"><arg name="num" id="w7h6tuo0342c8plkgijj" type="number"></arg></mutation><field name="function_name">startConversion</field><value name="w7h6tuo0342c8plkgijj"><shadow type="argument_reporter_number" id="QmYD~(WSdJ:A7ZKJ?Ca6"><field name="VALUE">num</field></shadow></value><statement name="STACK"><block type="i2c_writenumber" id="yb1l;KCU:..I`~kGQj,F"><field name="format">NumberFormat.UInt8LE</field><comment pinned="false" h="80" w="160">Write CONFIG reg address</comment><value name="address"><block type="variables_get" id="s4~d^;}qBbYs!6_pBMJ1"><field name="VAR" id="?|9Ei}^JPd)J_5WdLGrd">ADCaddress</field></block></value><value name="value"><block type="variables_get" id="x3~v%?D08iwSeVfi3A?1"><field name="VAR" id="8pgPj)/r?naD{.WFi9^N">CONFIG</field></block></value><value name="repeat"><shadow type="logic_boolean" id="pl{qtR{Gx~.-1|#^}WE6"><field name="BOOL">TRUE</field></shadow></value><next><block type="i2c_writenumber" id="h`v#A|Dk?]4D~+Q#cEo$"><field name="format">NumberFormat.UInt16BE</field><comment pinned="false" h="80" w="160">Write num to CONFIG reg</comment><value name="address"><block type="variables_get" id="iN,~DCF3O*%K)RamH5V("><field name="VAR" id="?|9Ei}^JPd)J_5WdLGrd">ADCaddress</field></block></value><value name="value"><block type="variables_get" id="~mgAPD4;R@9VKSM)spDJ"><field name="VAR" id="?l_REOfR0@v0NB-`YGLj">configValue</field></block></value><value name="repeat"><shadow type="logic_boolean" id="Zq(@L8[;dGG@c_|qz6Cn"><field name="BOOL">FALSE</field></shadow></value></block></next></block></statement></block><block type="function_definition" id="V]kbEy(VHbF/W-h:e$tk" x="2217" y="3"><mutation name="setPointer" functionid="bAq{7/9Bvj7fuFU07M6["><arg name="num" id="vdt30witdymmnwworr8wf" type="number"></arg></mutation><field name="function_name">setPointer</field><value name="vdt30witdymmnwworr8wf"><shadow type="argument_reporter_number" id="-A|l[IvrdT@3cAL8|!;S"><field name="VALUE">num</field></shadow></value><statement name="STACK"><block type="i2c_writenumber" id="kSeS#`Wf6wG#{[#waO2z"><field name="format">NumberFormat.Int8LE</field><value name="address"><shadow type="math_number" id="lNUygf::9$jU)HGN3(i#"><field name="NUM">0</field></shadow><block type="variables_get" id="BsS(!z(+3+~j[,qSS;P9"><field name="VAR" id="?|9Ei}^JPd)J_5WdLGrd">ADCaddress</field></block></value><value name="value"><shadow type="math_number" id="ISeZ9;lBeezd~mkS}9U|"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="=,V2.Gr42x+e,U0=ZBHH"><field name="VALUE">num</field></block></value><value name="repeat"><shadow type="logic_boolean" id="=befrq}5^XrNv!KK1_L["><field name="BOOL">FALSE</field></shadow></value></block></statement></block><block type="function_definition" id="tN}PI.sBDl)I*7NO^izj" x="1762" y="640"><mutation name="readCONVERSION" functionid="q_PcS(9S}ZcMc|C:U]y$"></mutation><field name="function_name">readCONVERSION</field><comment pinned="false" h="80" w="160">CONFIG Bit fields: 15 = OS 14:12 = MUX 11:9 = PGA 8 = MODE</comment><statement name="STACK"><block type="function_return" id="3=hcgcsxFZAmVOBUgv.D"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="pins_i2c_readnumber" id=",5)1:+,TQtmdk|GzOWJI"><field name="format">NumberFormat.UInt16BE</field><value name="address"><block type="variables_get" id="uQND]EkeG4Ww~ERr4%!|"><field name="VAR" id="?|9Ei}^JPd)J_5WdLGrd">ADCaddress</field></block></value><value name="repeat"><shadow type="logic_boolean" id="8XcS=wf(1qEqFOtRpumn"><field name="BOOL">FALSE</field></shadow></value></block></value></block></statement></block></xml>